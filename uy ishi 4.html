<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Kutubxona Katalogi | Maktab Kutubxonasi</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Georgia', 'Times New Roman', serif;
        }

        :root {
            --primary: #2C3E50;
            --secondary: #3498DB;
            --accent: #E74C3C;
            --light: #ECF0F1;
            --dark: #1A252F;
            --wood: #8B4513;
            --paper: #FDF5E6;
            --success: #27AE60;
            --warning: #F39C12;
            --shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.1);
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
            color: #333;
            line-height: 1.7;
            min-height: 100vh;
            background-image: 
                radial-gradient(#3498db22 2px, transparent 2px),
                radial-gradient(#2c3e5022 2px, transparent 2px);
            background-size: 40px 40px;
            background-position: 0 0, 20px 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

      
        header {
            background: linear-gradient(to right, var(--primary), var(--dark));
            color: white;
            padding: 25px 0;
            border-radius: 0 0 20px 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
            margin-bottom: 40px;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--secondary), var(--accent));
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .logo-icon {
            width: 70px;
            height: 70px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.2rem;
            border: 3px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 0 20px rgba(52, 152, 219, 0.4);
        }

        .logo-text h1 {
            font-size: 2.4rem;
            font-weight: 700;
            letter-spacing: 1px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .logo-text p {
            opacity: 0.9;
            font-size: 1.1rem;
            margin-top: 5px;
        }

        .search-container {
            flex-grow: 1;
            max-width: 600px;
            position: relative;
        }

        .search-box {
            width: 100%;
            padding: 16px 25px;
            border-radius: 50px;
            border: none;
            font-size: 1.1rem;
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
        }

        .search-box:focus {
            outline: none;
            box-shadow: 0 5px 25px rgba(52, 152, 219, 0.4);
            transform: translateY(-2px);
        }

        .search-btn {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            background: var(--secondary);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .search-btn:hover {
            background: var(--primary);
            transform: translateY(-50%) scale(1.1);
        }

       
        .main-content {
            display: grid;
            grid-template-columns: 280px 1fr 320px;
            gap: 30px;
            margin-bottom: 50px;
        }

        @media (max-width: 1200px) {
            .main-content {
                grid-template-columns: 1fr 320px;
            }
            .sidebar-left {
                grid-column: 1 / -1;
                order: 3;
            }
        }

        @media (max-width: 900px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

       
        .filter-sidebar {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--shadow);
            height: fit-content;
            position: sticky;
            top: 20px;
            border: 1px solid rgba(0, 0, 0, 0.08);
        }

        .filter-title {
            font-size: 1.5rem;
            margin-bottom: 25px;
            color: var(--primary);
            padding-bottom: 15px;
            border-bottom: 3px solid var(--wood);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .filter-group {
            margin-bottom: 25px;
        }

        .filter-group h3 {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .filter-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .filter-option {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: var(--transition);
        }

        .filter-option:hover {
            background: var(--light);
            transform: translateX(5px);
        }

        .filter-option.active {
            background: var(--secondary);
            color: white;
        }

        .checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid var(--secondary);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .filter-option.active .checkbox {
            background: white;
            color: var(--secondary);
        }

     
        .books-grid-container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(0, 0, 0, 0.08);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .section-title {
            font-size: 1.8rem;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .sort-options select {
            padding: 12px 20px;
            border-radius: 10px;
            border: 2px solid var(--light);
            background: white;
            font-size: 1rem;
            color: var(--dark);
            cursor: pointer;
            transition: var(--transition);
        }

        .sort-options select:focus {
            outline: none;
            border-color: var(--secondary);
        }

        .books-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 30px;
        }

        .book-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.08);
            transition: var(--transition);
            border: 1px solid rgba(0, 0, 0, 0.05);
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .book-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .book-cover {
            height: 280px;
            background: linear-gradient(135deg, var(--paper), #f5ebd9);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 30px;
            position: relative;
            overflow: hidden;
        }

        .book-cover::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--wood);
        }

        .book-cover img {
            max-width: 100%;
            max-height: 100%;
            border-radius: 5px;
            box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.2);
            transition: var(--transition);
        }

        .book-card:hover .book-cover img {
            transform: scale(1.05);
        }

        .book-info {
            padding: 25px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .book-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--primary);
            line-height: 1.4;
        }

        .book-author {
            color: var(--secondary);
            font-style: italic;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .book-meta {
            display: flex;
            justify-content: space-between;
            margin-top: auto;
            padding-top: 20px;
            border-top: 1px dashed #ddd;
        }

        .book-category {
            background: var(--light);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            color: var(--dark);
        }

        .book-status {
            display: flex;
            align-items: center;
            gap: 5px;
            font-weight: 600;
        }

        .status-available {
            color: var(--success);
        }

        .status-borrowed {
            color: var(--accent);
        }

       
        .right-sidebar {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        .sidebar-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(0, 0, 0, 0.08);
        }

        .sidebar-card h3 {
            font-size: 1.5rem;
            margin-bottom: 25px;
            color: var(--primary);
            padding-bottom: 15px;
            border-bottom: 3px solid var(--wood);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        .stat-item {
            text-align: center;
            padding: 20px;
            background: var(--light);
            border-radius: 15px;
            transition: var(--transition);
        }

        .stat-item:hover {
            transform: translateY(-5px);
            background: var(--secondary);
            color: white;
        }

        .stat-item:hover .stat-number,
        .stat-item:hover .stat-label {
            color: white;
        }

        .stat-number {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--secondary);
            margin-bottom: 5px;
        }

        .stat-label {
            color: var(--dark);
            font-size: 0.95rem;
        }

       
        .borrowed-book {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: var(--light);
            border-radius: 12px;
            margin-bottom: 15px;
            transition: var(--transition);
        }

        .borrowed-book:hover {
            transform: translateX(5px);
            background: #e3f2fd;
        }

        .borrowed-book:last-child {
            margin-bottom: 0;
        }

        .borrowed-cover {
            width: 60px;
            height: 80px;
            background: linear-gradient(135deg, var(--paper), #f5ebd9);
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: var(--wood);
            flex-shrink: 0;
        }

        .borrowed-info {
            flex-grow: 1;
        }

        .borrowed-title {
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--primary);
        }

        .due-date {
            font-size: 0.9rem;
            color: var(--accent);
            display: flex;
            align-items: center;
            gap: 5px;
        }

       
        .pagination {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid #eee;
        }

        .page-btn {
            width: 45px;
            height: 45px;
            border-radius: 10px;
            border: 2px solid var(--light);
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            color: var(--dark);
        }

        .page-btn:hover {
            border-color: var(--secondary);
            transform: translateY(-3px);
        }

        .page-btn.active {
            background: var(--secondary);
            color: white;
            border-color: var(--secondary);
        }

        footer {
            background: var(--dark);
            color: white;
            padding: 40px 0 20px;
            border-radius: 20px 20px 0 0;
            margin-top: 50px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 30px;
        }

        .footer-section h3 {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: var(--secondary);
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin-bottom: 12px;
        }

        .footer-section ul li a {
            color: #ddd;
            text-decoration: none;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .footer-section ul li a:hover {
            color: var(--secondary);
            transform: translateX(5px);
        }

        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #aaa;
            font-size: 0.9rem;
        }

        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            width: 100%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.4);
            animation: modalSlideUp 0.5s ease;
        }

        @keyframes modalSlideUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 25px 30px;
            background: var(--primary);
            color: white;
            border-radius: 20px 20px 0 0;
        }

        .modal-header h2 {
            font-size: 1.8rem;
        }

        .close-modal {
            background: none;
            border: none;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            transition: var(--transition);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close-modal:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .modal-body {
            padding: 30px;
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 40px;
        }

        @media (max-width: 768px) {
            .modal-body {
                grid-template-columns: 1fr;
            }
        }

        .book-details-cover {
            background: linear-gradient(135deg, var(--paper), #f5ebd9);
            border-radius: 15px;
            padding: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 400px;
        }

        .book-details-cover img {
            max-width: 100%;
            max-height: 100%;
            border-radius: 8px;
            box-shadow: 10px 10px 30px rgba(0, 0, 0, 0.2);
        }

        .book-details-info h3 {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 15px;
        }

        .book-details-meta {
            margin: 25px 0;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 15px;
            background: var(--light);
            border-radius: 10px;
        }

        .meta-item i {
            color: var(--secondary);
        }

        .book-description {
            line-height: 1.8;
            margin-bottom: 25px;
            color: #555;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 14px 28px;
            border-radius: 10px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1rem;
        }

        .btn-primary {
            background: var(--secondary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(52, 152, 219, 0.3);
        }

        .btn-secondary {
            background: var(--light);
            color: var(--dark);
        }

        .btn-secondary:hover {
            background: #ddd;
            transform: translateY(-3px);
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }
            
            .logo {
                flex-direction: column;
                text-align: center;
            }
            
            .search-container {
                max-width: 100%;
            }
            
            .section-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .books-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
        }
    </style>
</head>
<body>
  
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-book-open"></i>
                    </div>
                    <div class="logo-text">
                        <h1>Online Kutubxona Katalogi</h1>
                        <p>Maktab elektron kutubxonasi - Kitoblar olami</p>
                    </div>
                </div>
                <div class="search-container">
                    <input type="text" class="search-box" placeholder="Kitob nomi, muallif yoki janrini qidiring...">
                    <button class="search-btn">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="main-content">
          
            <div class="filter-sidebar sidebar-left">
                <h2 class="filter-title"><i class="fas fa-filter"></i> Filtrlash</h2>
                
                <div class="filter-group">
                    <h3><i class="fas fa-bookmark"></i> Janrlar</h3>
                    <div class="filter-options">
                        <div class="filter-option active" data-category="all">
                            <div class="checkbox"><i class="fas fa-check"></i></div>
                            <span>Barcha janrlar</span>
                        </div>
                        <div class="filter-option" data-category="fiction">
                            <div class="checkbox"></div>
                            <span>Badiiy adabiyot</span>
                        </div>
                        <div class="filter-option" data-category="science">
                            <div class="checkbox"></div>
                            <span>Ilmiy adabiyot</span>
                        </div>
                        <div class="filter-option" data-category="history">
                            <div class="checkbox"></div>
                            <span>Tarixiy</span>
                        </div>
                        <div class="filter-option" data-category="biography">
                            <div class="checkbox"></div>
                            <span>Biografiya</span>
                        </div>
                        <div class="filter-option" data-category="educational">
                            <div class="checkbox"></div>
                            <span>O'quv qo'llanma</span>
                        </div>
                    </div>
                </div>
                
                <div class="filter-group">
                    <h3><i class="fas fa-user-graduate"></i> Daraja</h3>
                    <div class="filter-options">
                        <div class="filter-option active" data-level="all">
                            <div class="checkbox"><i class="fas fa-check"></i></div>
                            <span>Barcha darajalar</span>
                        </div>
                        <div class="filter-option" data-level="9">
                            <div class="checkbox"></div>
                            <span>9-sinf</span>
                        </div>
                        <div class="filter-option" data-level="10">
                            <div class="checkbox"></div>
                            <span>10-sinf</span>
                        </div>
                        <div class="filter-option" data-level="11">
                            <div class="checkbox"></div>
                            <span>11-sinf</span>
                        </div>
                    </div>
                </div>
                
                <div class="filter-group">
                    <h3><i class="fas fa-calendar-alt"></i> Nashr yili</h3>
                    <div class="filter-options">
                        <div class="filter-option active" data-year="all">
                            <div class="checkbox"><i class="fas fa-check"></i></div>
                            <span>Barcha yillar</span>
                        </div>
                        <div class="filter-option" data-year="2020">
                            <div class="checkbox"></div>
                            <span>2020 va undan keyin</span>
                        </div>
                        <div class="filter-option" data-year="2015">
                            <div class="checkbox"></div>
                            <span>2015-2019</span>
                        </div>
                        <div class="filter-option" data-year="2010">
                            <div class="checkbox"></div>
                            <span>2010-2014</span>
                        </div>
                    </div>
                </div>
                
                <button class="btn btn-primary" style="width: 100%; margin-top: 20px;">
                    <i class="fas fa-redo"></i> Filtrlarni tozalash
                </button>
            </div>

            
            <div class="books-grid-container">
                <div class="section-header">
                    <h2 class="section-title"><i class="fas fa-books"></i> Kutubxona Katalogi</h2>
                    <div class="sort-options">
                        <select id="sortSelect">
                            <option value="newest">Eng yangilari</option>
                            <option value="popular">Mashhurlari</option>
                            <option value="title">Nom bo'yicha</option>
                            <option value="author">Muallif bo'yicha</option>
                        </select>
                    </div>
                </div>
                
                <div class="books-grid" id="booksGrid">
                
                </div>
                
                <div class="pagination">
                    <button class="page-btn active">1</button>
                    <button class="page-btn">2</button>
                    <button class="page-btn">3</button>
                    <button class="page-btn">4</button>
                    <button class="page-btn"><i class="fas fa-chevron-right"></i></button>
                </div>
            </div>

            <div class="right-sidebar">
                <div class="sidebar-card">
                    <h3><i class="fas fa-chart-bar"></i> Kutubxona statistikasi</h3>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-number" id="totalBooks">1,247</div>
                            <div class="stat-label">Jami kitoblar</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="availableBooks">1,089</div>
                            <div class="stat-label">Mavjud kitoblar</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="borrowedBooks">158</div>
                            <div class="stat-label">Ijara olindi</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="newBooks">48</div>
                            <div class="stat-label">Yangi kitoblar</div>
                        </div>
                    </div>
                </div>

                <div class="sidebar-card">
                    <h3><i class="fas fa-history"></i> So'ngi ijaralar</h3>
                    <div id="recentBorrowed">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Kutubxona haqida</h3>
                    <p>Maktab elektron kutubxonasi - o'quvchilar va o'qituvchilar uchun zamonaviy resurs markazi. 10,000 dan ortiq elektron va bosma nashrlar.</p>
                </div>
                <div class="footer-section">
                    <h3>Tez havolalar</h3>
                    <ul>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Yangi kelgan kitoblar</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Mashhur mualliflar</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> O'quv qo'llanmalar</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Ijara qoidalari</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Aloqa</h3>
                    <ul>
                        <li><a href="#"><i class="fas fa-map-marker-alt"></i> Maktab kutubxonasi, 2-qavat</a></li>
                        <li><a href="#"><i class="fas fa-phone"></i> +998 90 123 45 67</a></li>
                        <li><a href="#"><i class="fas fa-envelope"></i> library@school.uz</a></li>
                        <li><a href="#"><i class="fas fa-clock"></i> Dushanba - Juma: 8:00 - 17:00</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 Maktab Online Kutubxona Katalogi. Barcha huquqlar himoyalangan.</p>
            </div>
        </div>
    </footer>

    
    <div class="modal" id="bookDetailsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Kitob tafsilotlari</h2>
                <button class="close-modal" id="closeModalBtn">&times;</button>
            </div>
            <div class="modal-body" id="modalBody">
                
            </div>
        </div>
    </div>

    <script>
       
        const books = [
            {id: 1, title: "O'tkan kunlar", author: "Abdulla Qodiriy", year: 2019, pages: 480, category: "fiction", level: "11", status: "available", description: "O'zbek adabiyotining eng yirik asarlaridan biri bo'lgan bu roman XX asr boshlaridagi turmushni aks ettiradi.", isbn: "978-9943-4921-5-8"},
            {id: 2, title: "Fizika 9-sinf", author: "M. To'rayev", year: 2022, pages: 320, category: "educational", level: "9", status: "borrowed", description: "9-sinf o'quvchilari uchun fizika fanidan to'liq qo'llanma. Amaliy misollar va tajribalar bilan boyitilgan.", isbn: "978-9943-28-123-4"},
            {id: 3, title: "Algoritmlar va dasturlash", author: "T.H. Kormen", year: 2020, pages: 1296, category: "science", level: "11", status: "available", description: "Dasturlash asoslari va algoritmlarni o'rganish uchun eng yaxshi qo'llanma. 900 dan ortiq misollar.", isbn: "978-0-262-03384-8"},
            {id: 4, title: "Amir Temur hayoti", author: "Sharof Rashidov", year: 2018, pages: 412, category: "biography", level: "10", status: "available", description: "Buyuk sarkarda Amir Temurning hayoti va yutuqlari haqida qimmatli manba.", isbn: "978-9943-06-456-7"},
            {id: 5, title: "Dunyoning qisqa tarixi", author: "Stiven Hoking", year: 2021, pages: 256, category: "science", level: "11", status: "borrowed", description: "Koinotning yaralishi va rivojlanishi haqida oddiy tilda yozilgan ajoyib kitob.", isbn: "978-0-553-10953-5"},
            {id: 6, title: "O'zbekiston tarixi", author: "A. Yo'ldoshev", year: 2020, pages: 544, category: "history", level: "10", status: "available", description: "Qadim zamonlardan to hozirgacha bo'lgan O'zbekiston tarixini o'rganish uchun darslik.", isbn: "978-9943-337-89-5"},
            {id: 7, title: "Kimyoviy reaksiyalar", author: "L. Petrova", year: 2021, pages: 288, category: "educational", level: "10", status: "available", description: "Kimyo fanidan amaliy tajribalar va laboratoriya ishlari uchun qo'llanma.", isbn: "978-5-09-076543-2"},
            {id: 8, title: "Sherlock Holmes", author: "Artur Konan Doyl", year: 2019, pages: 320, category: "fiction", level: "9", status: "borrowed", description: "Dunyoning eng mashhur detektiv qissalari to'plami. 12 ta hikoya.", isbn: "978-0-14-043907-3"},
            {id: 9, title: "Matematikadan test to'plami", author: "N. Xolmatov", year: 2022, pages: 192, category: "educational", level: "11", status: "available", description: "Oliy ta'lim muassasalariga kirish imtihonlari uchun matematikadan testlar to'plami.", isbn: "978-9943-28-567-6"},
            {id: 10, title: "Python dasturlash tili", author: "M. Lutz", year: 2021, pages: 1648, category: "science", level: "11", status: "available", description: "Python dasturlash tilini chuqur o'rganish uchun eng yaxshi qo'llanma.", isbn: "978-1-59327-928-8"},
            {id: 11, title: "Biologiya atlas", author: "R. Alimova", year: 2020, pages: 160, category: "educational", level: "9", status: "available", description: "9-sinf biologiya fanidan rangli rasmli atlas. 500 dan ortiq illustratsiyalar.", isbn: "978-9943-28-234-7"},
            {id: 12, title: "Iqtisodiyot asoslari", author: "P. Samuelson", year: 2018, pages: 768, category: "educational", level: "11", status: "borrowed", description: "Zamonaviy iqtisodiyotning asosiy tamoyillari va konsepsiyalari haqida qo'llanma.", isbn: "978-0-07-351129-0"}
        ];

        
        const borrowedBooks = [
            {id: 2, title: "Fizika 9-sinf", dueDate: "2023-12-15"},
            {id: 5, title: "Dunyoning qisqa tarixi", dueDate: "2023-12-10"},
            {id: 8, title: "Sherlock Holmes", dueDate: "2023-12-05"},
            {id: 12, title: "Iqtisodiyot asoslari", dueDate: "2023-12-20"}
        ];

        
        const booksGrid = document.getElementById('booksGrid');
        const recentBorrowed = document.getElementById('recentBorrowed');
        const bookDetailsModal = document.getElementById('bookDetailsModal');
        const closeModalBtn = document.getElementById('closeModalBtn');
        const modalBody = document.getElementById('modalBody');
        const searchBox = document.querySelector('.search-box');
        const filterOptions = document.querySelectorAll('.filter-option');
        const sortSelect = document.getElementById('sortSelect');

       
        function initLibrary() {
            renderBooks(books);
            renderBorrowedBooks();
            updateStatistics();
            setupEventListeners();
        }

      
        function renderBooks(booksToRender) {
            booksGrid.innerHTML = '';
            
            booksToRender.forEach(book => {
                const bookCard = document.createElement('div');
                bookCard.className = 'book-card';
                bookCard.dataset.id = book.id;
                
                
                const firstLetter = book.title.charAt(0);
                
                
                const statusText = book.status === 'available' ? 'Mavjud' : 'Ijara olindi';
                const statusClass = book.status === 'available' ? 'status-available' : 'status-borrowed';
                const statusIcon = book.status === 'available' ? 'fa-check-circle' : 'fa-book-reader';
                
                bookCard.innerHTML = `
                    <div class="book-cover">
                        <div style="font-size: 4rem; color: var(--wood); font-weight: bold;">${firstLetter}</div>
                    </div>
                    <div class="book-info">
                        <h3 class="book-title">${book.title}</h3>
                        <p class="book-author">${book.author}</p>
                        <div class="book-meta">
                            <span class="book-category">${getCategoryName(book.category)}</span>
                            <span class="book-status ${statusClass}">
                                <i class="fas ${statusIcon}"></i> ${statusText}
                            </span>
                        </div>
                    </div>
                `;
                
                
                bookCard.addEventListener('click', () => showBookDetails(book.id));
                
                booksGrid.appendChild(bookCard);
            });
        }

        
        function renderBorrowedBooks() {
            recentBorrowed.innerHTML = '';
            
            borrowedBooks.forEach(borrowed => {
                const book = books.find(b => b.id === borrowed.id);
                if (!book) return;
                
                const borrowedElement = document.createElement('div');
                borrowedElement.className = 'borrowed-book';
                
                const firstLetter = book.title.charAt(0);
                
                borrowedElement.innerHTML = `
                    <div class="borrowed-cover">
                        ${firstLetter}
                    </div>
                    <div class="borrowed-info">
                        <div class="borrowed-title">${book.title}</div>
                        <div class="due-date">
                            <i class="far fa-calendar-alt"></i>
                            Qaytarish muddati: ${borrowed.dueDate}
                        </div>
                    </div>
                `;
                
                borrowedElement.addEventListener('click', () => showBookDetails(book.id));
                
                recentBorrowed.appendChild(borrowedElement);
            });
        }

        
        function showBookDetails(bookId) {
            const book = books.find(b => b.id === bookId);
            if (!book) return;
            
            const statusText = book.status === 'available' ? 'Mavjud' : 'Ijara olindi';
            const btnText = book.status === 'available' ? 'Ijara olish' : 'Kutish royxatiga qoshilish';
            const btnIcon = book.status === 'available' ? 'fa-book-open' : 'fa-clock';
            
            modalBody.innerHTML = `
                <div class="book-details-cover">
                    <div style="font-size: 6rem; color: var(--wood); font-weight: bold;">${book.title.charAt(0)}</div>
                </div>
                <div class="book-details-info">
                    <h3>${book.title}</h3>
                    <p style="font-size: 1.2rem; color: var(--secondary); margin-bottom: 20px;">${book.author}</p>
                    
                    <div class="book-details-meta">
                        <div class="meta-item">
                            <i class="fas fa-calendar-alt"></i>
                            <span>Nashr yili: ${book.year}</span>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-file-alt"></i>
                            <span>Sahifalar: ${book.pages}</span>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-bookmark"></i>
                            <span>Janr: ${getCategoryName(book.category)}</span>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-user-graduate"></i>
                            <span>Daraja: ${book.level}-sinf</span>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-barcode"></i>
                            <span>ISBN: ${book.isbn}</span>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-circle ${book.status === 'available' ? 'status-available' : 'status-borrowed'}"></i>
                            <span>Holat: ${statusText}</span>
                        </div>
                    </div>
                    
                    <div class="book-description">
                        <p>${book.description}</p>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn btn-primary" id="borrowBtn">
                            <i class="fas ${btnIcon}"></i> ${btnText}
                        </button>
                        <button class="btn btn-secondary" id="saveBtn">
                            <i class="far fa-bookmark"></i> Saqlash
                        </button>
                    </div>
                </div>
            `;
            
            
            document.getElementById('borrowBtn').addEventListener('click', () => {
                alert(`"${book.title}" kitobini ${book.status === 'available' ? 'ijara oldingiz' : 'kutish ro\'yxatiga qo\'shildingiz'}`);
                bookDetailsModal.style.display = 'none';
            });
            
            document.getElementById('saveBtn').addEventListener('click', () => {
                alert(`"${book.title}" kitobi saqlandi`);
            });
            
            bookDetailsModal.style.display = 'flex';
        }

        
        function updateStatistics() {
            const totalBooks = books.length;
            const availableBooks = books.filter(b => b.status === 'available').length;
            const borrowedBooksCount = books.filter(b => b.status === 'borrowed').length;
            const newBooks = books.filter(b => b.year >= 2022).length;
            
            document.getElementById('totalBooks').textContent = totalBooks;
            document.getElementById('availableBooks').textContent = availableBooks;
            document.getElementById('borrowedBooks').textContent = borrowedBooksCount;
            document.getElementById('newBooks').textContent = newBooks;
        }

      
        function getCategoryName(category) {
            const categories = {
                'fiction': 'Badiiy',
                'science': 'Ilmiy',
                'history': 'Tarixiy',
                'biography': 'Biografiya',
                'educational': 'Oquv'
            };
            return categories[category] || category;
        }

        
        function filterBooks() {
            const activeCategory = document.querySelector('.filter-option[data-category].active')?.dataset.category;
            const activeLevel = document.querySelector('.filter-option[data-level].active')?.dataset.level;
            const activeYear = document.querySelector('.filter-option[data-year].active')?.dataset.year;
            const searchTerm = searchBox.value.toLowerCase();
            
            let filteredBooks = books;
            
            
            if (activeCategory && activeCategory !== 'all') {
                filteredBooks = filteredBooks.filter(book => book.category === activeCategory);
            }
            
            
            if (activeLevel && activeLevel !== 'all') {
                filteredBooks = filteredBooks.filter(book => book.level === activeLevel);
            }
            
           
            if (activeYear && activeYear !== 'all') {
                const currentYear = new Date().getFullYear();
                if (activeYear === '2020') {
                    filteredBooks = filteredBooks.filter(book => book.year >= 2020);
                } else if (activeYear === '2015') {
                    filteredBooks = filteredBooks.filter(book => book.year >= 2015 && book.year <= 2019);
                } else if (activeYear === '2010') {
                    filteredBooks = filteredBooks.filter(book => book.year >= 2010 && book.year <= 2014);
                }
            }
            
            
            if (searchTerm) {
                filteredBooks = filteredBooks.filter(book => 
                    book.title.toLowerCase().includes(searchTerm) || 
                    book.author.toLowerCase().includes(searchTerm) ||
                    getCategoryName(book.category).toLowerCase().includes(searchTerm)
                );
            }
            
          
            const sortValue = sortSelect.value;
            switch(sortValue) {
                case 'newest':
                    filteredBooks.sort((a, b) => b.year - a.year);
                    break;
                case 'title':
                    filteredBooks.sort((a, b) => a.title.localeCompare(b.title));
                    break;
                case 'author':
                    filteredBooks.sort((a, b) => a.author.localeCompare(b.author));
                    break;
                case 'popular':
                   
                    filteredBooks.sort((a, b) => {
                        if (a.status === 'borrowed' && b.status !== 'borrowed') return -1;
                        if (a.status !== 'borrowed' && b.status === 'borrowed') return 1;
                        return 0;
                    });
                    break;
            }
            
            renderBooks(filteredBooks);
        }

       
        function setupEventListeners() {
           
            closeModalBtn.addEventListener('click', () => {
                bookDetailsModal.style.display = 'none';
            });
            
            window.addEventListener('click', (e) => {
                if (e.target === bookDetailsModal) {
                    bookDetailsModal.style.display = 'none';
                }
            });
            
            searchBox.addEventListener('input', filterBooks);
            
            filterOptions.forEach(option => {
                option.addEventListener('click', () => {
                    const parent = option.parentElement;
                    const siblings = parent.querySelectorAll('.filter-option');
                    siblings.forEach(sib => sib.classList.remove('active'));
                    option.classList.add('active');
                    filterBooks();
                });
            });
            
            sortSelect.addEventListener('change', filterBooks);
            
            document.querySelectorAll('.page-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.page-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    alert('Bu demo versiyada faqat 1-sahifa mavjud');
                });
            });
        }

        document.addEventListener('DOMContentLoaded', initLibrary);
    </script>
</body>
</html>